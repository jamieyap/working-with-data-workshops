---
title: 'Module: Getting Started'
date: '`r format(Sys.Date(), "%B %d, %Y")`'
output: 
  pdf_document:
    number_sections: FALSE
    toc: true
    toc_depth: 1
  html_document:
    number_sections: FALSE
    theme: flatly
    highlight: zenburn
    toc: true
    toc_depth: 1
---

```{r global_options, include=FALSE}
knitr::opts_chunk$set(tidy = TRUE)
knitr::opts_chunk$set(fig.pos = 'H')
```

```{r, echo = FALSE, warning = FALSE}
path_pns_input_data <- Sys.getenv("path_pns_input_data")
path_pns_output_data <- Sys.getenv("path_pns_output_data")
path_pns_staged_data <- Sys.getenv("path_pns_staged_data")
```


**GOAL:** By the end of this module, you will have set up your computing environment with the appropriate software versions. Additionally, you would also be able to read and view the curated data files using `R`.


# Set Up of Software

Let's load the two packages we will use throughout: `dplyr` for data manipulation and `lme4` for estimating generalized linear mixed models (GLMMs) with longitudinal data. 

```{r, message = FALSE, warning = FALSE}
library(dplyr)
library(lme4)
```

We note that we are using the following combination of versions of software for Module 1: `R 4.0.4`, `dplyr 1.0.5`, `lme4 1.1-25`. The code examples presented in the current and succeeding modules in this workshop may not display output as expected when using older versions of these software. In particular, examples reading csv files using versions of `R` prior to `4.0` or using versions of `lme4` prior to `1.0` will not result in output identical to what will be shown in this module.

One of the simplest ways to install specific combinations of `R` packages is through the `install_version()` function of the `devtools` package, like so:

```{r, eval = FALSE}
install_version("dplyr", version = "1.0.5", repos = "http://cran.us.r-project.org")
install_version("lme4", version = "1.1-25", repos = "http://cran.us.r-project.org")
```

Specific versions of `R` itself can be downloaded from the following URLs, depending on your operating system:

* Windows 

  - [https://cran.r-project.org/bin/windows/base/](https://cran.r-project.org/bin/windows/base/) for newer versions of `R`
  - [https://cran.r-project.org/bin/windows/base/old/](https://cran.r-project.org/bin/windows/base/old/) for older versions of `R`

* MACOSX

  - [https://cran.r-project.org/bin/macosx/base/](https://cran.r-project.org/bin/macosx/base/) for newer versions of `R`
  - [https://cran.r-project.org/bin/macosx/old/](https://cran.r-project.org/bin/macosx/old/) for older versions of `R`

**CAUTION:** Check the particular version of `R` you are working with prior to starting any analysis. If you are not working with the required version, you may switch versions through the `Tools -> Global Options -> General` tab if you are using R Studio.


As check, you may run `sessionInfo()`. Displayed below is the combination of software versions used for the modules in this workshop.

```{r, message = FALSE, warning = FALSE}
sessionInfo()
```

# Set Up of Locations to Store Data Files and Output

We specify the location of input files and output files in the variables `path_pns_input_data` and `path_pns_output_data`, respectively. We may also want to specify a third location, `path_pns_staged_data`, where we would keep intermediate output, perhaps from a data preprocessing step. Note the forward slashes in the specification of the locations.


```{r, eval = FALSE}
path_pns_input_data <- "C:/Users/jamieyap/Desktop/input_data"
path_pns_output_data <- "C:/Users/jamieyap/Desktop/output_data"
path_pns_staged_data <- "C:/Users/jamieyap/Desktop/staged_data"
```

# Reading in Data Files

Let's now read in the data files we will be using in Module 1. Note that these data files should be within the location specified in `path_pns_input_data`.

```{r, message = FALSE, warning = FALSE}
dat_quit_dates <- read.csv(file.path(path_pns_input_data, "quit_dates_final.csv"), header = TRUE, na.strings = "")
ema_item_names <- read.csv(file.path(path_pns_input_data, "ema_item_names.csv"), header = TRUE, na.strings = "")
dat_big_merged <- read.csv(file.path(path_pns_input_data, "merged.csv"), header = TRUE, na.strings = "")
```

As a check for whether we have been able to read the files successfully, let's view the first few rows of `ema_item_names`. 

```{r, message = FALSE, warning = FALSE}
head(ema_item_names, n=10)
```



